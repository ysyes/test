<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <script src="../../lib/jquery-2.2.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        function loadImage(img) {
            var filePath = img.value;
            var fileExt = filePath.substring(filePath.lastIndexOf("."))
                    .toLowerCase();

            if (!checkFileExt(fileExt)) {
                alert("您上传的文件不是图片,请重新上传！");
                img.value = "";
                return;
            }
            if (img.files && img.files[0]) {
                alert('你选择的文件大小' + (img.files[0].size / 1024).toFixed(0) + "kb");
            } else {
                img.select();
                var url = document.selection.createRange().text;
                try {
                    var fso = new ActiveXObject("Scripting.FileSystemObject");
                } catch (e) {
                    alert('如果你用的是ie8以下 请将安全级别调低！');
                }
                alert("文件大小为：" + (fso.GetFile(url).size / 1024).toFixed(0) + "kb");
            }
        }
        function checkFileExt(ext) {
            if (!ext.match(/.jpg|.gif|.png|.bmp/i)) {
                return false;
            }
            return true;
        }
    </script>
    <title>无标题文档</title>
</head>
<body>
<input name="txtName" type="file" id="pic" onchange="loadImage(this)"/>
</body>
</html>